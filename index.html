<!-- <link rel="stylesheet" type="text/css" href="3av.css"> -->

<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/swiper/2.5.0/idangerous.swiper.css">

<div id="videos">

  <header id="drawer">
    <nav id="thirdav-controls">
      <ul>
        <li ng-repeat="album in albums" ng-class="{active: album == activeAlbum}"><a ng-bind="album.title" ng-click="activateAlbum(album)"></a></li>
      </ul>
    </nav>
  </header>

  <div id="albums" ng-repeat="album in albums" ng-if="activeAlbum == album">
    <section class="swiper-container" swiper>
      <div class="swiper-wrapper">
        <figure ng-repeat="video in album.videos" ng-class="{active: video.active, loaded: video.loaded}" class="swiper-slide">
          <img ng-src="{{video.thumbnail_large}}">
          <mia-video ng-if="video.active" video-id="{{video.id}}"></mia-video>
          <figcaption>
            <h3 ng-bind="video.title"></h3>
            <div ng-bind-html="video.description | unsafe"></div>
          </figcaption>
        </figure>
        <figure class="swiper-slide outro">
          <a class="back" ng-click="restart()">
            <img ng-src="{{album.thumbnail_large}}">
            <span>&larr; Back</span>
          </a>
          <figcaption>
            <p>We have <ng-pluralize count="album.videos.length" when="{'1': '1 video', 'other': '{} videos'}"></ng-pluralize>
            in the album <em ng-bind="album.title"></em>.</p>
            <div ng-bind-html="album.description | unsafe"></div>
          </figcaption>
        </figure>
      </div>
    </section>
  </div>
  
</div>
<!-- <script src="bundle.js"></script> -->
